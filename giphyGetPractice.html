<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Favorite Giphy</title>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <h1>Giphy Search</h1>

        <!-- This form will be where users input data about the movies -->
        <form id="giphy-form">
            <label for="giphy-input">Search for a giphy</label>
            <input type="text" id="giphy-input"><br>

            <!-- This button will trigger our AJAX call -->
            <input id="find-giphy" type="submit" value="Giphy Search">
        </form>

        <!-- We'll be dumping our JSON contents in here -->
        <div id="giphy-main"></div>
        <div id="giphy-mobile"></div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript">
            // This .on("click") function will trigger the AJAX Call
            $("#find-giphy").on("click", function (event) {

                // event.preventDefault() can be used to prevent an event's default behavior.
                // Here, it prevents the submit button from trying to submit a form when clicked
                event.preventDefault();

                // Here we grab the text from the input box
                var giphy = $("#giphy-input").val();

                // Here we construct our URL
                var queryURL = "https://api.giphy.com/v1/gifs/search?api_key=Fq39ve6Gue8V8ocJWGP19i1RErf4KQV6&q=" + giphy + "&limit=1&offset=0&rating=G&lang=en";

                // Write code between the dashes below to hit the queryURL with $ajax, then take the response data
                // and display it in the div with an id of movie-view

                // ------YOUR CODE GOES IN THESE DASHES. DO NOT MANUALLY EDIT THE HTML ABOVE.

                $.ajax({
                    url: queryURL,
                    method: "GET"
                }).then(function (response) {


                    const mainIMG = response.data[0].images.original.url
                    const mobileIMG = response.data[0].images.fixed_height_small.url

                    // Creating and storing an image tag
                    var fullImage = $("<img>");
                    var partialImage = $("<img>");

                    // Setting the fullImage src attribute to imageUrl
                    fullImage.attr("src", mainIMG);
                    fullImage.attr("alt", "main image");

                    partialImage.attr("src", mobileIMG);
                    partialImage.attr("alt", "mobile image");

                    // Prepending the fullImage to the images div
                    $("#giphy-main").prepend(fullImage);
                    $("#giphy-mobile").prepend(partialImage);
                });

                // -----------------------------------------------------------------------

            });
        </script>
    </div>
</body>

</html>